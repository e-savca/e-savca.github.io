<!DOCTYPE html> <html><head>
		<title>Functional Error Handling in .NET With the Result Pattern</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="EUGENIU2 - Functional Error Handling in .NET With the Result Pattern">
		<meta property="og:title" content="Functional Error Handling in .NET With the Result Pattern">
		<meta property="og:description" content="EUGENIU2 - Functional Error Handling in .NET With the Result Pattern">
		<meta property="og:type" content="website">
		<meta property="og:url" content="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html">
		<meta property="og:image" content="lib/media/functional-error-handling-in-.net-with-the-result-pattern-240509-1.jpg">
		<meta property="og:site_name" content="EUGENIU2">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager native-scrollbars theme-light show-inline-title"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> IT/Design<span class="token punctuation">-</span>Patterns
  <span class="token punctuation">-</span> IT/Guides
  <span class="token punctuation">-</span> Literature<span class="token punctuation">-</span>Note</code><button class="copy-code-button">Copy</button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Functional Error Handling in .NET With the Result Pattern"><p>Functional Error Handling in .NET With the Result Pattern</p></h1><div><p><span alt="Functional Error Handling in .NET With the Result Pattern-240509-1.jpg" src="Functional Error Handling in .NET With the Result Pattern-240509-1.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Functional Error Handling in .NET With the Result Pattern-240509-1.jpg" src="lib/media/functional-error-handling-in-.net-with-the-result-pattern-240509-1.jpg"></span></p></div><div><p>Thank you to our sponsors who keep this newsletter free to the reader:</p></div><div><p><a data-tooltip-position="top" aria-label="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" rel="noopener" class="external-link" href="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" target="_blank"><strong>Progress</strong></a> prepared a free eBook for you - <a data-tooltip-position="top" aria-label="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" rel="noopener" class="external-link" href="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" target="_blank"><strong>Migration to .NET MAUI.</strong></a> Do you plan to start your first cross-platform app with .NET MAUI? You're in the right place. This eBook will help you examine the benefits of using .NET MAUI for the dev experience, the app and its end users, plus any downsides. <a data-tooltip-position="top" aria-label="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" rel="noopener" class="external-link" href="https://www.telerik.com/campaigns/maui/migration-to-dot-net-maui?utm_medium=cpm&amp;utm_source=milanjovanovic&amp;utm_campaign=maui-ebook-mnm-na" target="_blank"><strong>Grab the free MAUI eBook here.</strong></a></p></div><div><p><a data-tooltip-position="top" aria-label="https://u.icepanel.io/1eec0e6f" rel="noopener" class="external-link" href="https://u.icepanel.io/1eec0e6f" target="_blank"><strong>IcePanel</strong></a> is a collaborative C4 model modelling &amp; diagramming tool that helps explain complex software systems. With an interactive map, you can align your software engineering &amp; product teams on technical decisions across the business. <a data-tooltip-position="top" aria-label="https://u.icepanel.io/1eec0e6f" rel="noopener" class="external-link" href="https://u.icepanel.io/1eec0e6f" target="_blank"><strong>Check it out here.</strong></a></p></div><div><p>How should you handle errors in your code?</p></div><div><p>This has been a topic of many discussions, and I want to share my opinion.</p></div><div><p>One school of thought suggests using exceptions for flow control. This is not a good approach because it makes the code harder to reason about. The caller must know the implementation details and which exceptions to handle.</p></div><div><p>Exceptions are for exceptional situations.</p></div><div><p>Today, I want to show you how to implement error handling using the <strong>Result pattern.</strong></p></div><div><p>It's a functional approach to error handling, making your code more expressive.</p></div><div class="heading-wrapper"><h2 data-heading="[Exceptions For Flow Control](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control)" class="heading" id="[Exceptions_For_Flow_Control](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control" target="_blank">Exceptions For Flow Control</a></h2><div class="heading-children"><div><p>Using exceptions for flow control is an approach to implement the <strong>fail-fast</strong> principle.</p></div><div><p>As soon as you encounter an error in the code, you throw an exception — effectively terminating the method, and making the caller responsible for handling the exception.</p></div><div><p>The problem is the caller must know which exceptions to handle. And this isn't obvious from the method signature alone.</p></div><div><p>Another common use case is throwing exceptions for validation errors.</p></div><div><p>Here's an example in the <code>FollowerService</code>:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">FollowerService</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IFollowerRepository</span> _followerRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">FollowerService</span><span class="token punctuation">(</span><span class="token class-name">IFollowerRepository</span> followerRepository<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _followerRepository <span class="token operator">=</span> followerRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">StartFollowingAsync</span><span class="token punctuation">(</span>
        <span class="token class-name">User</span> user<span class="token punctuation">,</span>
        <span class="token class-name">User</span> followed<span class="token punctuation">,</span>
        <span class="token class-name">DateTime</span> createdOnUtc<span class="token punctuation">,</span>
        <span class="token class-name">CancellationToken</span> cancellationToken <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Id  followed<span class="token punctuation">.</span>Id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DomainException</span><span class="token punctuation">(</span><span class="token string">"Can't follow yourself"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>followed<span class="token punctuation">.</span>HasPublicProfile<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DomainException</span><span class="token punctuation">(</span><span class="token string">"Can't follow non-public profile"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> _followerRepository<span class="token punctuation">.</span><span class="token function">IsAlreadyFollowingAsync</span><span class="token punctuation">(</span>
                user<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
                followed<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
                cancellationToken<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DomainException</span><span class="token punctuation">(</span><span class="token string">"Already following"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name"><span class="token keyword">var</span></span> follower <span class="token operator">=</span> Follower<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> followed<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> createdOnUtc<span class="token punctuation">)</span><span class="token punctuation">;</span>

        _followerRepository<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>follower<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="[Use Exceptions for Exceptional Situations](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations)" class="heading" id="[Use_Exceptions_for_Exceptional_Situations](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations" target="_blank">Use Exceptions for Exceptional Situations</a></h2><div class="heading-children"><div><p>A rule of thumb I follow is to use exceptions for exceptional situations. Since you already expect potential errors, why not make it explicit?</p></div><div><p>You can group all application errors into two groups:</p></div><div><ul>
<li data-line="0">Errors you know how to handle</li>
<li data-line="1">Errors you don't know how to handle</li>
</ul></div><div><p>Exceptions are an excellent solution for the errors you don't know how to handle. And you should catch and handle them at the lowest level possible.</p></div><div><p>What about the errors you know how to handle?</p></div><div><p>You can handle them in a functional way with the <strong>Result pattern.</strong> It's explicit and clearly expresses the intent that the method can fail. The drawback is the caller has to manually check if the operation failed.</p></div></div></div><div class="heading-wrapper"><h2 data-heading="[Expressing Errors Using the Result Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern)" class="heading" id="[Expressing_Errors_Using_the_Result_Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern" target="_blank">Expressing Errors Using the Result Pattern</a></h2><div class="heading-children"><div><p>The first thing you will need is an <code>Error</code> class to represent application errors.</p></div><div><ul>
<li data-line="0"><code>Code</code> - unique name for the error in the application</li>
<li data-line="1"><code>Description</code> - contains developer-friendly details about the error
  public sealed record Error(string Code, string Description)<br>
{<br>
public static readonly Error None = new(string.Empty, string.Empty);<br>
}  </li>
</ul></div><div><p>Then, you can implement the <code>Result</code> class using the <code>Error</code> to describe the failure. This implementation is very bare-bones, and you could add many more features. In most cases, you also need a generic <code>Result&lt;T&gt;</code> class, which will wrap a value inside.</p></div><div><p>Here's what the <code>Result</code> class looks like:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Result</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token function">Result</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> isSuccess<span class="token punctuation">,</span> <span class="token class-name">Error</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess <span class="token operator">&amp;&amp;</span> error <span class="token operator">!=</span> Error<span class="token punctuation">.</span>None <span class="token operator">||</span>
            <span class="token operator">!</span>isSuccess <span class="token operator">&amp;&amp;</span> error  Error<span class="token punctuation">.</span>None<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Invalid error"</span><span class="token punctuation">,</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        IsSuccess <span class="token operator">=</span> isSuccess<span class="token punctuation">;</span>
        Error <span class="token operator">=</span> error<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsSuccess <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsFailure <span class="token operator">=&gt;</span> <span class="token operator">!</span>IsSuccess<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">Error</span> Error <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Result</span> <span class="token function">Success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Error<span class="token punctuation">.</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Result</span> <span class="token function">Failure</span><span class="token punctuation">(</span><span class="token class-name">Error</span> error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>The only way to create a <code>Result</code> instance is by using static methods:</p></div><div><ul>
<li data-line="0"><code>Success</code> - creates a success result</li>
<li data-line="1"><code>Failure</code> - creates a failure result with the specified <code>Error</code></li>
</ul></div><div><p>If you want to avoid building your own <code>Result</code> class, take a look at the <a data-tooltip-position="top" aria-label="https://github.com/altmann/FluentResults" rel="noopener" class="external-link" href="https://github.com/altmann/FluentResults" target="_blank">FluentResults</a> library.</p></div></div></div><div class="heading-wrapper"><h2 data-heading="[Applying the Result Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern)" class="heading" id="[Applying_the_Result_Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern" target="_blank">Applying the Result Pattern</a></h2><div class="heading-children"><div><p>Now that we have the <code>Result</code> class let's see how to apply it in practice.</p></div><div><p>Here's a refactored version of the <code>FollowerService</code>. Notice a few things:</p></div><div><ul>
<li data-line="0">No more throwing exceptions</li>
<li data-line="1">The <code>Result</code> return type is explicit</li>
<li data-line="2">It's clear which errors the method returns</li>
</ul></div><div><p>Another benefit of error handling using the <strong>Result pattern</strong> is that it's easier to test.</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">FollowerService</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IFollowerRepository</span> _followerRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">FollowerService</span><span class="token punctuation">(</span><span class="token class-name">IFollowerRepository</span> followerRepository<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _followerRepository <span class="token operator">=</span> followerRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>Result<span class="token punctuation">&gt;</span></span> <span class="token function">StartFollowingAsync</span><span class="token punctuation">(</span>
        <span class="token class-name">User</span> user<span class="token punctuation">,</span>
        <span class="token class-name">User</span> followed<span class="token punctuation">,</span>
        <span class="token class-name">DateTime</span> utcNow<span class="token punctuation">,</span>
        <span class="token class-name">CancellationToken</span> cancellationToken <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span>Id  followed<span class="token punctuation">.</span>Id<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Result<span class="token punctuation">.</span><span class="token function">Failure</span><span class="token punctuation">(</span>FollowerErrors<span class="token punctuation">.</span>SameUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>followed<span class="token punctuation">.</span>HasPublicProfile<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Result<span class="token punctuation">.</span><span class="token function">Failure</span><span class="token punctuation">(</span>FollowerErrors<span class="token punctuation">.</span>NonPublicProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> _followerRepository<span class="token punctuation">.</span><span class="token function">IsAlreadyFollowingAsync</span><span class="token punctuation">(</span>
                user<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
                followed<span class="token punctuation">.</span>Id<span class="token punctuation">,</span>
                cancellationToken<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Result<span class="token punctuation">.</span><span class="token function">Failure</span><span class="token punctuation">(</span>FollowerErrors<span class="token punctuation">.</span>AlreadyFollowing<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name"><span class="token keyword">var</span></span> follower <span class="token operator">=</span> Follower<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> followed<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> utcNow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        _followerRepository<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>follower<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> Result<span class="token punctuation">.</span><span class="token function">Success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="[Documenting Application Errors](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors)" class="heading" id="[Documenting_Application_Errors](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors" target="_blank">Documenting Application Errors</a></h2><div class="heading-children"><div><p>You can use the <code>Error</code> class to document all possible errors in your application.</p></div><div><p>One approach is to create a static class called <code>Errors</code>. It will have nested classes inside containing the specific errors. The usage would look like <code>Errors.Followers.NonPublicProfile</code>.</p></div><div><p>However, the approach I like to use is to create a specific class containing the errors.</p></div><div><p>Here's the <code>FollowerErrors</code> class documenting the possible errors for the <code>Follower</code> entity:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FollowerErrors</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">Error</span> SameUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Error</span><span class="token punctuation">(</span>
        <span class="token string">"Followers.SameUser"</span><span class="token punctuation">,</span> <span class="token string">"Can't follow yourself"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">Error</span> NonPublicProfile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Error</span><span class="token punctuation">(</span>
        <span class="token string">"Followers.NonPublicProfile"</span><span class="token punctuation">,</span> <span class="token string">"Can't follow non-public profiles"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">Error</span> AlreadyFollowing <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Error</span><span class="token punctuation">(</span>
        <span class="token string">"Followers.AlreadyFollowing"</span><span class="token punctuation">,</span> <span class="token string">"Already following"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Instead of static fields, you can also use static methods returning an error. You would call this method with a concrete argument to get an <code>Error</code> instance.</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FollowerErrors</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Error</span> <span class="token function">NotFound</span><span class="token punctuation">(</span><span class="token class-name">Guid</span> id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Error</span><span class="token punctuation">(</span>
        <span class="token string">"Followers.NotFound"</span><span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"The follower with Id '</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string">' was not found"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="[Converting Results Into API Responses](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses)" class="heading" id="[Converting_Results_Into_API_Responses](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses" target="_blank">Converting Results Into API Responses</a></h2><div class="heading-children"><div><p>The <code>Result</code> object will eventually reach the Minimal API (or controller) endpoint in ASP.NET Core. Minimal APIs return an <code>IResult</code> response, and controllers return an <code>IActionResult</code> response. Regardless, you must convert the <code>Result</code> instance into a valid API response.</p></div><div><p>The straightforward approach is checking the <code>Result</code> state and returning an HTTP response. Here's an example where we check the <code>Result.IsFailure</code> flag:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded">app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span>
    <span class="token string">"users/{userId}/follow/{followedId}"</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token class-name">Guid</span> userId<span class="token punctuation">,</span> <span class="token class-name">Guid</span> followedId<span class="token punctuation">,</span> <span class="token class-name">FollowerService</span> followerService<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> followerService<span class="token punctuation">.</span><span class="token function">StartFollowingAsync</span><span class="token punctuation">(</span>
            userId<span class="token punctuation">,</span>
            followedId<span class="token punctuation">,</span>
            DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>IsFailure<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Results<span class="token punctuation">.</span><span class="token function">BadRequest</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> Results<span class="token punctuation">.</span><span class="token function">NoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>However, this is an excellent opportunity for a more functional approach. You can implement the <code>Match</code> extension method to provide a callback for each <code>Result</code> state. The <code>Match</code> method will execute the respective callback and return the result.</p></div><div><p>Here's the implementation of <code>Match</code>:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ResultExtensions</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">T</span> <span class="token function">Match</span><span class="token punctuation">(</span>
        <span class="token keyword">this</span> <span class="token class-name">Result</span> result<span class="token punctuation">,</span>
        <span class="token class-name">Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> onSuccess<span class="token punctuation">,</span>
        <span class="token class-name">Func<span class="token punctuation">&lt;</span>Error<span class="token punctuation">,</span> T<span class="token punctuation">&gt;</span></span> onFailure<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token return-type class-name">result<span class="token punctuation">.</span>IsSuccess <span class="token punctuation">?</span></span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>And this is how you would use the <code>Match</code> method in a Minimal API endpoint:</p></div><div><pre class="language-cs" tabindex="0"><code class="language-cs is-loaded">app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span>
    <span class="token string">"users/{userId}/follow/{followedId}"</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token class-name">Guid</span> userId<span class="token punctuation">,</span> <span class="token class-name">Guid</span> followedId<span class="token punctuation">,</span> <span class="token class-name">FollowerService</span> followerService<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> followerService<span class="token punctuation">.</span><span class="token function">StartFollowingAsync</span><span class="token punctuation">(</span>
            userId<span class="token punctuation">,</span>
            followedId<span class="token punctuation">,</span>
            DateTime<span class="token punctuation">.</span>UtcNow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">Match</span><span class="token punctuation">(</span>
            <span class="token named-parameter punctuation">onSuccess</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Results<span class="token punctuation">.</span><span class="token function">NoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token named-parameter punctuation">onFailure</span><span class="token punctuation">:</span> error <span class="token operator">=&gt;</span> Results<span class="token punctuation">.</span><span class="token function">BadRequest</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Much more concise. Don't you think so?</p></div></div></div><div class="heading-wrapper"><h2 data-heading="[Summary](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary)" class="heading" id="[Summary](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary" target="_blank">Summary</a></h2><div class="heading-children"><div><p>If you take one thing with you from this week's issue, it should be this: exceptions are for exceptional situations. Moreover, you should only use exceptions for errors you don't know how to handle. In all other cases, expressing the error clearly with the <strong>Result pattern</strong> is more valuable.</p></div><div><p>Using the <code>Result</code> class allows you to:</p></div><div><ul>
<li data-line="0">Express the intent that a method <em>could</em> fail</li>
<li data-line="1">Encapsulate an application error inside</li>
<li data-line="2">Provide a functional way to handle errors</li>
</ul></div><div><p>Additionally, you can document all application errors with the <code>Error</code> class. This is helpful for developers to know which errors they need to handle.</p></div><div><p>You can even convert this to actual <em>documentation</em>. For example, I wrote a simple program that scans the project for all <code>Error</code> fields. It then converts this into a table format and uploads it to a Confluence page.</p></div><div><p>So I encourage you to try the <strong>Result pattern</strong> and see how it can improve your code.</p></div><div><p>See you next week.</p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#Functional Error Handling in .NET With the Result Pattern"><div class="tree-item-contents heading-link" heading-name="Functional Error Handling in .NET With the Result Pattern"><span class="tree-item-title">Functional Error Handling in .NET With the Result Pattern</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Exceptions_For_Flow_Control](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control)"><div class="tree-item-contents heading-link" heading-name="[Exceptions For Flow Control](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#exceptions-for-flow-control" target="_blank">Exceptions For Flow Control</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Use_Exceptions_for_Exceptional_Situations](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations)"><div class="tree-item-contents heading-link" heading-name="[Use Exceptions for Exceptional Situations](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#use-exceptions-for-exceptional-situations" target="_blank">Use Exceptions for Exceptional Situations</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Expressing_Errors_Using_the_Result_Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern)"><div class="tree-item-contents heading-link" heading-name="[Expressing Errors Using the Result Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern" target="_blank">Expressing Errors Using the Result Pattern</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Applying_the_Result_Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern)"><div class="tree-item-contents heading-link" heading-name="[Applying the Result Pattern](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#applying-the-result-pattern" target="_blank">Applying the Result Pattern</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Documenting_Application_Errors](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors)"><div class="tree-item-contents heading-link" heading-name="[Documenting Application Errors](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#documenting-application-errors" target="_blank">Documenting Application Errors</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Converting_Results_Into_API_Responses](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses)"><div class="tree-item-contents heading-link" heading-name="[Converting Results Into API Responses](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#converting-results-into-api-responses" target="_blank">Converting Results Into API Responses</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="04.-literature-notes/functional-error-handling-in-.net-with-the-result-pattern.html#[Summary](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary)"><div class="tree-item-contents heading-link" heading-name="[Summary](https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary" rel="noopener" class="external-link" href="https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#summary" target="_blank">Summary</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>